 // Options

$iota-shadow-initialize-box-sizing           : 'border-box'  !default;

$iota-shadow-initialize-heading-size         : false !default;
$iota-shadow-initialize-form-elements        : false !default;
$iota-shadow-initialize-html5-form-elements  : false !default;




 /**
  * 1. Sets display to block, since custom components get treated as spans by default
  * 2. Sets box-sizing variable and text resets for the root components inside the ShadowDOM
  *    (all other Elements are inheriting)
  */
@mixin shadow-initialize(){
  :host {
    display: block;
    > * {
      box-sizing: #{$iota-shadow-initialize-box-sizing} !important;
      -ms-text-size-adjust: 100%;
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  }


  /**
    * Sets box-sizing to all elements and before / after
    */

  * {
    &,
    &:before,
    &:after {
      box-sizing: inherit;
    }
  }


  /**
    * Simple reset of element margin and padding
    */

    h1, h2, h3, h4, h5, h6,
    blockquote, p, pre, code,
    dl, dd, ol, ul,
    figure,
    hr,
    fieldset, legend
    {
      margin:   0;
      padding:  0;
    }


  /**
    * Sets heading font-size to be equal to the content font-size. Encourages
    * the use of different heading elements to define the position of the heading
    * in the document and not the heading look.
    * Opinionated and disabled by default.
    */

  @if ($iota-shadow-initialize-heading-size == true) {

    h1, h2, h3, h4, h5, h6 {
      font-size: inherit
    }

  }


  /**
    * Applies a bold font weight to strong instead of the default bolder
    */


  strong { font-weight: bold }


  /**
    * 1. Removes border from images inside links
    * 2. Helps images to properly behave in responsive layouts
    */


  img {
    border-style: none; /* 1 */
    max-width: 100%; /* 2 */
    height: auto; /* 2 */
    vertical-align: middle; /* 2 */
  }


  /**
    * 1. Removes default grey background in IE10.
    * 2. Remove gaps in links underline in iOS 8+ and Safari 8+.
    */

  a {
    background-color: transparent; /* 1 */
    -webkit-text-decoration-skip: objects; /* 2 */
  }




  // Normalizing form elements

  @if ($iota-shadow-initialize-form-elements == true) {

    /**
      * Remove margin from form elements
      */

    input,
    select,
    textarea { margin: 0 }


    /**
      * Show overflow in Edge
      */

    input { overflow: visible }


    /**
      * Remove the default vertical scrollbar in IE.
      */

    select { text-transform: none }


    /**
      * 1. Remove the padding in IE 10-.
      * 2. Add the correct box sizing in IE 10-.
      */

    [type="checkbox"],
    [type="radio"] {
      padding: 0; /* 1 */
      @if ($iota-shadow-initialize-box-sizing != 'border-box') {
        box-sizing: border-box /* 2 */;
      }
    }
  }




  // Normalizing of HTML5 form elements

  @if ($iota-shadow-initialize-html5-form-elements == true) {
    /**
    * Correct the cursor style of increment and decrement buttons in Chrome.
    */
    [type="number"]::-webkit-inner-spin-button,
    [type="number"]::-webkit-outer-spin-button {
      height: auto;
    }
    /**
    * 1. Correct the odd appearance in Chrome and Safari.
    * 2. Correct the outline style in Safari.
    */
    [type="search"] {
      -webkit-appearance: textfield; /* 1 */
      outline-offset: -2px; /* 2 */
    }
    /**
    * Remove the inner padding and cancel buttons in Chrome and Safari on macOS.
    */
    [type="search"]::-webkit-search-cancel-button,
    [type="search"]::-webkit-search-decoration {
      -webkit-appearance: none;
    }

    /**
    * 1. Correct the inability to style clickable types in iOS and Safari.
    * 2. Change font properties to `inherit` in Safari.
    */
    ::-webkit-file-upload-button {
      -webkit-appearance: button; /* 1 */
      font: inherit; /* 2 */
    }
  }
}

@if $initialize-shadow == true {
  @include shadow-initialize();
}
